# java-explore-with-me
ExploreWithMe application project.

https://github.com/MambaJDev/java-explore-with-me/pull/3

ExploreWithMe - это приложение, которое позволяет пользователям находить разные интересные события, принимать в них участие, а также размещать свои события.

Два сервиса:
1. основной сервис содержит всё необходимое для работы продукта;
2. сервис статистики хранит количество просмотров и позволяет делать различные выборки для анализа работы приложения.

Спецификация основного сервиса: ewm-main-service-spec.json;  
Спецификация сервиса статистики: ewm-stats-service.json.

Дополнительная функциональность:
- **Комментарии.**
   - Возможность оставлять комментарии к событиям и модерировать их.

## - Комментарии на события

**Описание**

Функциональность "Комментарии на события" позволяет пользователям оставлять комментарии к событиям.

**API для работы с комментариями для авторизованных пользователей**
***PrivateCommentController***

1. **Добавление нового комментария**
   - **Метод:** POST
   - **Endpoint:** /users/{userId}/comments
   - **Параметр запроса:** eventId
   - **Тело запроса:** в формате json вида {"text": "текст комментария","mark": число от 0 до 10}
   - **Описание:** Добавляет новый комментарий на событие.
1. **Редактирование комментария**
   - **Метод:** PATCH
   - **Endpoint:** /users/{userId}/comments/{comId}
   - **Тело запроса:** в формате json вида {"text": "текст комментария","mark": число от 0 до 10}
   - **Описание:** Редактирует имеющийся комментарий на событие.
1. **Удаление комментария**
   - **Метод:** DELETE
   - **Endpoint:** /users/{userId}/comments/{comId}
   - **Описание:** Удаляет указанный комментарий.
1. **Получение пользователем своего комментария по id**
   - **Метод:** GET
   - **Endpoint:** /users/{userId}/comments/{comId}
   - **Описание:** Возвращает комментарии созданный пользователем.


**API для работы с комментариями любыми пользователями**
***PublicCommentController***
1. **Получение всех комментариев по id события**
   - **Метод:** GET
   - **Endpoint:** /comments/{eventId}
   - **Параметры запроса:** sort = [OLD_DATE, NEGATIVE, POSITIVE], from, size
   - **Описание:** Возвращает все комментарии, которые принадлежат конкретному событию, с возможностью сортировки комментариев по дате, получения отдельно негативных или позитивных комментариев.

**API для работы с комментариями для администратора**
***AdminCommentController***
1. **Получение администратором комментария по id**
   - **Метод:** GET
   - **Endpoint:** /admin/comments/{comId}
   - **Описание:** Возвращает комментарии по его id.
1. **Удаление администратором комментария по id**
   - **Метод:** DELETE
   - **Endpoint:** /admin/comments/{comId}
   - **Описание:** Удаляет комментарии по его id.
1. **Обновление администратором статуса комментария**
   - **Метод:** PATCH
   - **Endpoint:** /admin/comments/{comId}
   - **Описание:** Присваивает комментарию статус PUBLISHED_NEGATIVE или PUBLISHED_POSITIVE и публикует его.